---
title: 494、目标和
date: 2021-06-09 15:13:00
tags:
- 01背包
- 动态规划
---

1、把添加+-号看成是对元素的分类，把要添加+放进A中，把-放进B中。   
2、又知道B中的值得和（绝对值），等于元素总和S-A的值。推导出:
```
∵target=A-B
  B=S-A
∴target=2*A-S
∴A=(target+S)/2

```
注意A的结果要为正整数
3、所以这个问题可以转化为：从数组中选择元素，使选择的元素和为A的方案有多少种？   
4、使用二维数组记录最多方案的个数，`dp[i][j]`，i表示对前i个元素进行了选择，j表示选择的元素之和   
5、推断出状态转移方程：   
对前i个元素选择后，和=目标值j的最多方案数 = 对前i-1个元素选择后，和=目标值j的最多方案数（第i个元素不选）+ 对前i-1个元素选择后，和=(目标值j-i位置的值)的最多方案数（选择了第i个元素）
```
dp[i][j]=dp[i-1][j]+dp[i-1][j-nums[i]]
```
6、对于i=0，容易知道，向上推理就行。注意对于元素之和为0的，所有元素都不选也是一种方法，所以`dp[0][0]=1`或者`dp[0][0]=2`，因为nums[0]有可能等于0被选择
{% include_code lang:javascript others/494.js %}